<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="qti">
<title>Sections and Tests • qti</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Sections and Tests">
<meta property="og:description" content="qti">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">qti</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Create Rmd exercises</h6>
    <a class="dropdown-item" href="../articles/singlechoice.html">Single Choice Exercises</a>
    <a class="dropdown-item" href="../articles/multiplechoice.html">Multiple Choice Exercises</a>
    <a class="dropdown-item" href="../articles/gap.html">Gap Exercises</a>
    <a class="dropdown-item" href="../articles/dropdown.html">Dropdown Exercises</a>
    <a class="dropdown-item" href="../articles/essay.html">Essay Exercises</a>
    <a class="dropdown-item" href="../articles/order.html">Order Exercises</a>
    <a class="dropdown-item" href="../articles/directedpairs.html">Directed Pairs Exercises</a>
    <a class="dropdown-item" href="../articles/table.html">Table Exercises</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Create sections and tests</h6>
    <a class="dropdown-item" href="../articles/section.html">Sections and Tests</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>API</h6>
    <a class="dropdown-item" href="../articles/api_opal.html">Working with API OPAL from qti</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>S4 qti classes</h6>
    <a class="dropdown-item" href="../articles/qti_oop_model.html">QTI OOP Model</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/shevandrin/qti/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Sections and Tests</h1>
            
            <h4 data-toc-skip class="date">2024-01-24</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/shevandrin/qti/blob/HEAD/vignettes/section.Rmd" class="external-link"><code>vignettes/section.Rmd</code></a></small>
      <div class="d-none name"><code>section.Rmd</code></div>
    </div>

    
    
<p>Creating single exercises is not particularly useful as one usually
wants to combine different exercises into a test. A test in the QTI
standard typically consists of one or more sections. Each Section can
contain a combination of exercises or other subsections, providing great
flexibility in test structure. Sections can be customized with respect
to various parameters, such as time limit and shuffling.</p>
<p>The <code>qti</code> package makes it very simple to mix different
sources of exercise files:</p>
<ul>
<li>
<strong>Rmd (md) files</strong>: You can use Rmarkdown files that
are consistent with the <code>qti</code> package (the <code>exams</code>
package will not work)</li>
<li>
<strong>QTI XML files</strong>: These files should be valid
regarding the QTI standard. To use your Rmd-files from the
<code>exams</code> package you can convert them to xml first.</li>
<li>
<strong>Objects of S4 <code>qti</code> classes</strong>: You can
also use objects from the <code>qti</code> package directly. See <a href="qti_oop_model.html">QTI OOP model</a>.</li>
</ul>
<div class="section level2">
<h2 id="using-the-section-and-test-functions">Using the <code>section</code> and <code>test</code> functions<a class="anchor" aria-label="anchor" href="#using-the-section-and-test-functions"></a>
</h2>
<p>Although it is possible to feed a test with exercises directly, we
suggest to always use a section, as this provides more flexibility and
avoids several problems. Even if you do not need a section, you can just
create a root section and put the exercises there.</p>
<p>We designed a simple wrapper for sections. Here we load some files
from our package and use the function <code>section</code> to create the
section. Note that we request 10 different variants of all
exercises.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">path</span> <span class="op">&lt;-</span> <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/path_package.html" class="external-link">path_package</a></span><span class="op">(</span><span class="st">"exercises"</span>, package <span class="op">=</span> <span class="st">"qti"</span><span class="op">)</span></span>
<span><span class="va">files</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">path</span>, <span class="st">"/"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gap1.Rmd"</span>, <span class="st">"gap2.Rmd"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">root_section</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/section.html">section</a></span><span class="op">(</span>content <span class="op">=</span> <span class="va">files</span>, n_variants <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code></pre></div>
<p>Now we can make a test out of this and upload it to Opal. Again there
are helpers for that: <code>test</code> and <code>test4opal</code>.
<code>test</code> is more general and is always consistent with the QTI
model, whereas <code>test4opal</code> can use additional Opal-specific
parameters that are not necessarily consistent with QTI.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu">qti</span><span class="fu">:::</span><span class="fu"><a href="../reference/test.html">test</a></span><span class="op">(</span><span class="va">root_section</span>, <span class="st">"test1"</span><span class="op">)</span></span>
<span><span class="co"># createQtiTest is a method of the OOP test class</span></span>
<span><span class="fu"><a href="../reference/createQtiTest-methods.html">createQtiTest</a></span><span class="op">(</span><span class="va">test</span>, zip_only <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span><span class="va">repo</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/upload2opal.html">upload2opal</a></span><span class="op">(</span><span class="st">"test1.zip"</span>, open_in_browser <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span></code></pre></div>
<p>We now have 10 variants of the test, two of which look like this:</p>
<p><img src="images/Atest1.jpg"><img src="images/Btest1.jpg"></p>
<p>After the root section you can see the section exam_8833 (image 1)
and exam_S7829 (image 2). There are actually 8 more (10 in total) and if
you restart the exam, you will get one randomly assigned. You can try it
yourself: <a href="https://bildungsportal.sachsen.de/opal/auth/RepositoryEntry/42069852163" class="external-link uri">https://bildungsportal.sachsen.de/opal/auth/RepositoryEntry/42069852163</a>.</p>
<p>To summarize so far: You can just pass your exercise files to the
<code>content</code> parameter in <code>section</code> and define how
many variants you would like to create of each file.</p>
<p>Of course, creating several variants only makes sense for random
exercises. Single choice and multiple choice exercises could be part of
different sections:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">non_random_exercises</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">path</span>, <span class="st">"/"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sc1.Rmd"</span>, <span class="st">"mpc1.Rmd"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">root_section</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="../reference/section.html">section</a></span><span class="op">(</span><span class="va">files</span>, n_variants <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, </span>
<span>                    <span class="fu"><a href="../reference/section.html">section</a></span><span class="op">(</span><span class="va">non_random_exercises</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Note that we use a list here. Now we can again make a test out of
this and upload it to Opal:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu">qti</span><span class="fu">:::</span><span class="fu"><a href="../reference/test4opal.html">test4opal</a></span><span class="op">(</span><span class="va">root_section</span>, <span class="st">"test2"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/createQtiTest-methods.html">createQtiTest</a></span><span class="op">(</span><span class="va">test</span>, zip_only <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span><span class="va">repo</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/upload2opal.html">upload2opal</a></span><span class="op">(</span><span class="st">"test2.zip"</span>, open_in_browser <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span></code></pre></div>
<p>In Opal this will create the following structure:</p>
<p><img src="images/Atest2.jpg"><img src="images/Btest2.jpg"></p>
<p>As you can see, we still have our variable section with different
variants (you see two of them in the images). But now, we also have a
fixed section that is the same for all tests.</p>
<p>Note that the function <code>section</code> returns an
<code>AssessmentSection</code> qti-object:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">root_section</span>, <span class="va">class</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] "AssessmentSection"</span></span>
<span><span class="co">#&gt; attr(,"package")</span></span>
<span><span class="co">#&gt; [1] "qti"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] "AssessmentSection"</span></span>
<span><span class="co">#&gt; attr(,"package")</span></span>
<span><span class="co">#&gt; [1] "qti"</span></span></code></pre></div>
<p>Indeed, the whole qti-package is based on S4 OOP, so exercises,
sections and tests are all objects. If you have no experience with OOP,
this might feel a little bit unfamiliar, but to use it, you do not need
to know all details. Just use the helper functions and you should be
fine.</p>
<p>To customize your sections and tests, check out the references:
<code><a href="../reference/section.html">?section</a></code> and <code><a href="../reference/test.html">?test</a></code> or
<code><a href="../reference/test4opal.html">?test4opal</a></code>.</p>
<!-- If you happen to know OOP and want to take advantage of your skills, you can also create sections and tests directly with our OOP functions. -->
<!-- ## Create sections with OOP -->
<!-- ```{r} -->
<!-- ``` -->
</div>
<div class="section level2">
<h2 id="two-approaches-for-different-variants-of-a-single-exercise">Two approaches for different variants of a single exercise<a class="anchor" aria-label="anchor" href="#two-approaches-for-different-variants-of-a-single-exercise"></a>
</h2>
<p>By default the <code>section</code> function creates different
variants of an exercise by drawing different seeds and creating
subsections with these seeds. There is also a different approach to
introduce randomness. Check out the following figure:</p>
<div class="figure">
<img src="sections_scheme1.png" style="width:80.0%" alt=""><p class="caption">Two approaches for structuring exercise variants</p>
</div>
<p>On the left-hand side four different subsections with the same
exercise files (but different variants of them) were created. A single
participant, starting at the root section, will be randomly assigned to
only one subsection. He or she will then be presented all exercises from
this subsection. This is the default and most instructors will be happy
with this setup for their exams. Basically, this is a common
experimental design. All participants in one subsection see the same
exercises, which is also useful for psychometric analysis. The
disadvantage is that if two students know they are in the same
subsection, they could help each other.</p>
<p>On the right-hand side for each exercise file a subsection was
created, containing the different variants of the exercise. Each
participant goes through each section, but will only be assigned a
single variant from the section. The obvious difference to the first
approach is that there are many paths through such a test. Indeed, with
3 variants and 4 files, there are <span class="math inline">\(3^4 =
81\)</span> paths. This is not particularly useful for psychometric
analysis and could lead to other problems. For instance, if you did not
carefully construct your exercises, they might differ substantially in
difficulty between different variants. With 81 possible paths, there
might be some that are particularly difficult and others that are fairly
easy. You will have no way to know, which is which because each path
will only have few participants. The advantage of this setup is that
cheating becomes more difficult because the paths of two students will
likely differ. Still, we advise to only use this approach if you know
what you are doing, especially for exams.</p>
<ol style="list-style-type: decimal">
<li>For “by variant” (left scheme on the picture) use
<code>by = \"variants\"</code>
</li>
<li>For “by files” (right scheme) use <code>by = \"files\"</code>
</li>
</ol>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">root_section</span> <span class="op">=</span> <span class="fu"><a href="../reference/section.html">section</a></span><span class="op">(</span>content <span class="op">=</span> <span class="va">files</span>, n_variants <span class="op">=</span> <span class="fl">3</span>, by <span class="op">=</span> <span class="st">"files"</span><span class="op">)</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Andrey Shevandrin, Johannes Titz, Stiftung für Innovation in der Hochschullehre.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
