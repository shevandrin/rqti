<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Sections and Tests • rqti</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Sections and Tests">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rqti</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.3.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Create Rmd exercises</h6></li>
    <li><a class="dropdown-item" href="../articles/singlechoice.html">Single Choice tasks</a></li>
    <li><a class="dropdown-item" href="../articles/multiplechoice.html">Multiple Choice tasks</a></li>
    <li><a class="dropdown-item" href="../articles/gap.html">Gap tasks</a></li>
    <li><a class="dropdown-item" href="../articles/dropdown.html">Dropdown tasks</a></li>
    <li><a class="dropdown-item" href="../articles/essay.html">Essay tasks</a></li>
    <li><a class="dropdown-item" href="../articles/order.html">Order tasks</a></li>
    <li><a class="dropdown-item" href="../articles/directedpairs.html">Directed Pair tasks</a></li>
    <li><a class="dropdown-item" href="../articles/table.html">Table tasks</a></li>
    <li><a class="dropdown-item" href="../articles/adding_metadata.html">Adding metadata</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Create sections and tests</h6></li>
    <li><a class="dropdown-item" href="../articles/section.html">Sections and Tests</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>API</h6></li>
    <li><a class="dropdown-item" href="../articles/api_opal.html">Working with the OPAL API</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>S4 rqti classes</h6></li>
    <li><a class="dropdown-item" href="../articles/rqti_oop_model.html">rqti OOP Model</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Other</h6></li>
    <li><a class="dropdown-item" href="../articles/compatibility.html">Compatibility with Learning Management Systems</a></li>
    <li><a class="dropdown-item" href="../articles/imported_packages.html">Imported Packages</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/shevandrin/rqti/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Sections and Tests</h1>
            
            <h4 data-toc-skip class="date">2025-02-25</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/shevandrin/rqti/blob/main/vignettes/section.Rmd" class="external-link"><code>vignettes/section.Rmd</code></a></small>
      <div class="d-none name"><code>section.Rmd</code></div>
    </div>

    
    
<p>Creating single tasks is not particularly useful as one usually wants
to combine different tasks into a test. A test in the QTI standard
typically consists of one or more sections. Each Section can contain a
combination of tasks or other subsections, providing great flexibility
in test structure. Sections can be customized with respect to various
parameters, such as time limit and shuffling.</p>
<p>The <code>rqti</code> package makes it very simple to mix different
sources of task files:</p>
<ul>
<li>
<strong>Rmd (md) files</strong>: You can use Rmarkdown files that
are consistent with the <code>rqti</code> package (the
<code>exams</code> package will not work, but see below)</li>
<li>
<strong>QTI XML files</strong>: These files should be valid
regarding the QTI standard. To use your Rmd-files from the
<code>exams</code> package you can convert them to xml first.</li>
<li>
<strong>Objects of S4 <code>rqti</code> classes</strong>: You can
also use objects from the <code>rqti</code> package directly. See
article <a href="rqti_oop_model.html">rqti OOP model</a>.</li>
</ul>
<div class="section level2">
<h2 id="using-the-section-and-test-functions">Using the <code>section</code> and <code>test</code> functions<a class="anchor" aria-label="anchor" href="#using-the-section-and-test-functions"></a>
</h2>
<p>Although it is possible to feed a test with tasks directly, we
suggest to always use a section, as this provides more flexibility and
avoids several problems. Even if you do not need a section, you can just
create a root section and put the tasks there.</p>
<p>We designed a simple wrapper for sections. Here we load some files
from our package and use the function <code>section</code> to create the
section. Note that we request 10 different variants of all tasks.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">path</span> <span class="op">&lt;-</span> <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/path_package.html" class="external-link">path_package</a></span><span class="op">(</span><span class="st">"exercises"</span>, package <span class="op">=</span> <span class="st">"rqti"</span><span class="op">)</span></span>
<span><span class="va">files</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">path</span>, <span class="st">"/"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gap1.Rmd"</span>, <span class="st">"gap2.Rmd"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">root_section</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/section.html">section</a></span><span class="op">(</span>content <span class="op">=</span> <span class="va">files</span>, n_variants <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code></pre></div>
<p>Now we can make a test out of this and upload it to OPAL. Again there
are helpers for that: <code>test</code> and <code>test4opal</code>.
<code>test</code> is more general and is always consistent with the QTI
model, whereas <code>test4opal</code> can use additional OPAL-specific
parameters that are not necessarily consistent with QTI.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/test.html">test</a></span><span class="op">(</span><span class="va">root_section</span>, <span class="st">"test1"</span><span class="op">)</span></span>
<span><span class="co"># createQtiTest is a method of the OOP class `test`</span></span>
<span><span class="fu"><a href="../reference/createQtiTest-methods.html">createQtiTest</a></span><span class="op">(</span><span class="va">test</span>, zip_only <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span><span class="va">repo</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/upload2opal.html">upload2opal</a></span><span class="op">(</span><span class="st">"test1.zip"</span>, open_in_browser <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span></code></pre></div>
<p>Note that you could also call <code>upload2opal(test)</code>
directly. We just wanted to demonstrate how to write out a test locally
before uploading it somewhere. Of course you can also just use
<code>render_qtijs(test)</code> to preview the test locally— but in
qtijs you will not see the structure of the test, so we use OPAL for
demonstration purposes.</p>
<p>We now have 10 variants of the test, two of which are:</p>
<div class="float">
<img src="images%2FAtest1.jpg" style="width:100.0%" alt="Test structure for seed 8833."><div class="figcaption">Test structure for seed 8833.</div>
</div>
<div class="float">
<img src="images%2FBtest1.jpg" style="width:100.0%" alt="Test structure for seed 7829."><div class="figcaption">Test structure for seed 7829.</div>
</div>
<p>After the root section you can see the section exam_8833 (image 1)
and exam_S7829 (image 2). There are actually 8 more (10 in total) and if
you restart the exam, you will get one randomly assigned. You can try it
yourself: <a href="https://bildungsportal.sachsen.de/opal/auth/RepositoryEntry/46081048578" class="external-link uri">https://bildungsportal.sachsen.de/opal/auth/RepositoryEntry/46081048578</a></p>
<p>To summarize so far: You can just pass your task files to the
<code>content</code> parameter in <code>section</code> and define how
many variants you would like to create of each file.</p>
<p>Of course, creating several variants only makes sense for random
tasks. Single choice and multiple choice tasks could be part of
different sections:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">non_random_tasks</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">path</span>, <span class="st">"/"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sc1.Rmd"</span>, <span class="st">"mpc1.Rmd"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">root_section</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="../reference/section.html">section</a></span><span class="op">(</span><span class="va">files</span>, n_variants <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,</span>
<span>                     <span class="fu"><a href="../reference/section.html">section</a></span><span class="op">(</span><span class="va">non_random_tasks</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Note that we use a list here for the root section. This is important
as the <code>test</code> functions expect a list to be more flexible
with different inputs (e.g. objects instead of files). Now we can again
make a test out of this and upload it to OPAL:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/test4opal.html">test4opal</a></span><span class="op">(</span><span class="va">root_section</span>, <span class="st">"test2"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/createQtiTest-methods.html">createQtiTest</a></span><span class="op">(</span><span class="va">test</span>, zip_only <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span><span class="va">repo</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/upload2opal.html">upload2opal</a></span><span class="op">(</span><span class="st">"test2.zip"</span>, <span class="st">"test2"</span>, open_in_browser <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span></code></pre></div>
<p>In OPAL this will create the following structure:</p>
<div class="float">
<img src="images%2FAtest2.jpg" style="width:100.0%" alt="Test structure with one fixed section, seed 9808."><div class="figcaption">Test structure with one fixed section, seed
9808.</div>
</div>
<div class="float">
<img src="images%2FBtest2.jpg" style="width:100.0%" alt="Test structure with one fixed section, for seed 8833."><div class="figcaption">Test structure with one fixed section, for seed
8833.</div>
</div>
<p>As you can see, we still have our variable section with different
variants (you see two of them in the screenshots). But now, we also have
a fixed section that is the same for all tests. Try it out yourself: <a href="https://bildungsportal.sachsen.de/opal/auth/RepositoryEntry/46075805699" class="external-link uri">https://bildungsportal.sachsen.de/opal/auth/RepositoryEntry/46075805699</a></p>
<p>Note that the function <code>section</code> returns an
<code>AssessmentSection</code> rqti-object:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">root_section</span>, <span class="va">class</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] "AssessmentSection"</span></span>
<span><span class="co">#&gt; attr(,"package")</span></span>
<span><span class="co">#&gt; [1] "rqti"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] "AssessmentSection"</span></span>
<span><span class="co">#&gt; attr(,"package")</span></span>
<span><span class="co">#&gt; [1] "rqti"</span></span></code></pre></div>
<p>The entire rqti-package relies on S4 Object-Oriented Programming
(OOP), where tasks, sections, and tests are treated as distinct objects.
If you are not accustomed to OOP, it might seem unfamiliar at first, but
you do not need to delve into all the technical details to use it
effectively. Simply utilize the provided helper functions, and you
should navigate through with ease.</p>
<p>To customize your sections and tests, check out the references:
<code><a href="../reference/section.html">?section</a></code> and <code><a href="../reference/test.html">?test</a></code> or
<code><a href="../reference/test4opal.html">?test4opal</a></code>.</p>
<!-- If you happen to know OOP and want to take advantage of your skills, you can also create sections and tests directly with our OOP functions. -->
<!-- ## Create sections with OOP -->
<!-- ```{r} -->
<!-- ``` -->
</div>
<div class="section level2">
<h2 id="two-approaches-for-parallel-versions-of-a-task">Two approaches for parallel versions of a task<a class="anchor" aria-label="anchor" href="#two-approaches-for-parallel-versions-of-a-task"></a>
</h2>
<p>By default the <code>section</code> function creates different
variants of a task by drawing different seeds and creating subsections
with these seeds. There is also a different approach to introduce
randomness. Have a look at the following schema:</p>
<div class="float">
<img src="images%2Fsectionsscheme.png" style="width:100.0%" alt="Two approaches for structuring parallel versions of tasks"><div class="figcaption">Two approaches for structuring parallel versions
of tasks</div>
</div>
<p>On the left-hand side, three distinct subsections were generated,
each housing the same task files but with <strong>different
variants</strong>. A participant, starting at the root section, is
randomly assigned to one of these subsections, encountering all tasks
within that specific subsection. This setup is generally satisfactory
for most instructors conducting exams. It ensures that all participants
within a subsection encounter the same set of tasks, facilitating
psychometric analysis. However, a drawback is the potential for
forbidden collaboration between participants within the same
subsection.</p>
<p>On the right-hand side, an alternative strategy was implemented. Each
task <strong>file</strong> now has its dedicated subsection,
encompassing its diverse variants. Participants navigate through each
section, being assigned only one variant of the task per section. The
noteworthy distinction from the other approach lies in the plethora of
potential paths available in the test. Given the presence of 3 variants
for each of the 4 files, a total of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>3</mn><mn>4</mn></msup><mo>=</mo><mn>81</mn></mrow><annotation encoding="application/x-tex">3^4 = 81</annotation></semantics></math>
paths emerges. While this configuration may complicate psychometric
analysis and introduce challenges in maintaining task difficulty
equilibrium, it provides a notable advantage in thwarting cheating, as
the paths of two students are likely to differ.</p>
<p>However, exercising caution is imperative when adopting this
approach, particularly in an exam setting. Interestingly, this setup
finds greater utility when exchanging specific tasks among instructors.
For instance, generating 20 variants of a task and bundling them into a
test allows for easy import as a subtest in other instructors’ exams.
Notably, such flexibility would not be feasible with the structure on
the left-hand side.</p>
<p>To choose between these two versions you can use the parameter
<code>by</code> in the sense of <code>section</code> by
<code>variants</code> or <code>section</code> by <code>files</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">root_section</span> <span class="op">=</span> <span class="fu"><a href="../reference/section.html">section</a></span><span class="op">(</span>content <span class="op">=</span> <span class="va">files</span>, n_variants <span class="op">=</span> <span class="fl">3</span>, by <span class="op">=</span> <span class="st">"files"</span><span class="op">)</span></span></code></pre></div>
<ol style="list-style-type: decimal">
<li>For “by variants” (left scheme on the picture) use
<code>by = "variants"</code>
</li>
<li>For “by files” (right scheme) use <code>by = "files"</code>
</li>
</ol>
<p>We are still looking for better semantics of these cases, so if you
have a good idea, open an issue on our github page: <a href="https://github.com/shevandrin/rqti" class="external-link uri">https://github.com/shevandrin/rqti</a></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Andrey Shevandrin, Johannes Titz, Stiftung für Innovation in der Hochschullehre.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
